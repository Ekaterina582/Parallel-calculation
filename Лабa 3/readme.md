# Отчет по лабораторной работе  

**Тема:** Сравнение подходов к синхронизации потоков при работе с общими данными  

## 1. Постановка задачи  

Цель работы — сравнить три подхода к синхронизации доступа к общему ресурсу в многопоточной среде:  
1. **Без синхронизации** (риск состояния гонки, race condition).  
2. **С использованием мьютексов** (классическая блокировка).  
3. **С использованием атомарных операций** (эффективная альтернатива блокировкам).  

**Задачи:**  
- Реализовать программу, демонстрирующую каждый подход.  
- Измерить время выполнения и проверить корректность результата.  
- Сравнить производительность и надежность методов.  

---

## 2. Выполнение работы  

### 2.1. Методы синхронизации  

#### 1. Без синхронизации  
- Потоки напрямую изменяют общую переменную (`shared_value_no_sync++`).  
- **Проблема:** Возникает race condition, итоговое значение меньше ожидаемого.  

#### 2. С мьютексом  
- Перед изменением переменной поток захватывает мьютекс (`std::lock_guard`).  
- **Плюсы:** Гарантированная корректность.  
- **Минусы:** Замедление из-за блокировок.  

#### 3. С атомарными операциями  
- Используется `std::atomic<int>`, операции выполняются без явных блокировок.  
- **Плюсы:** Корректность + высокая скорость.  

### 2.2. Результаты тестирования  
Программа запускалась с параметрами:  
- Количество потоков: 10  
- Итераций на поток: 1 000 000  

| Метод                   | Итоговое значение | Время выполнения (сек) |  
|-------------------------|-------------------|------------------------|  
| Без синхронизации       | 4 658 321         | 0.123                  |  
| С мьютексом            | 10 000 000        | 0.876                  |  
| С атомарными операциями | 10 000 000        | 0.234                  |  

---

## 3. Выводы  

1. **Без синхронизации:**  
   - **Самая высокая скорость**, но результат некорректен из-за race condition.  
   - Не подходит для реальных задач.  

2. **С мьютексом:**  
   - **Корректный результат**, но значительные накладные расходы на блокировки.  
   - Скорость в 3–4 раза ниже, чем у атомарных операций.  

3. **С атомарными операциями:**  
   - **Корректный результат + максимальная производительность**.  
   - Оптимальный выбор для простых операций (инкремент, декремент и т. д.).  

**Итог:** Атомарные операции обеспечивают лучший баланс между корректностью и производительностью.  
